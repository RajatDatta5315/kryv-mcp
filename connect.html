<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Connect — KRYV-MCP</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=Syne:wght@700;800;900&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet"/>
<style>
:root{--bg:#020408;--s:#0a0f18;--s2:#111824;--b:rgba(56,189,248,.12);--b2:rgba(56,189,248,.28);--a:#38bdf8;--a2:#0ea5e9;--g:#4ade80;--r:#f87171;--y:#fbbf24;--pu:#a78bfa;--t:#e2e8f0;--m:#64748b;--mono:'DM Mono',monospace;--disp:'Syne',sans-serif;--body:'DM Sans',sans-serif;}
*{margin:0;padding:0;box-sizing:border-box;}
body{background:var(--bg);color:var(--t);font-family:var(--body);min-height:100vh;}
body::before{content:'';position:fixed;inset:0;background:linear-gradient(rgba(56,189,248,.025) 1px,transparent 1px),linear-gradient(90deg,rgba(56,189,248,.025) 1px,transparent 1px);background-size:48px 48px;pointer-events:none;z-index:0;}
.glow{position:fixed;width:700px;height:400px;border-radius:50%;background:radial-gradient(circle,rgba(56,189,248,.05) 0%,transparent 70%);pointer-events:none;z-index:0;top:-80px;left:50%;transform:translateX(-50%);}
.w{position:relative;z-index:1;max-width:960px;margin:0 auto;padding:0 24px 80px;}
/* NAV */
nav{display:flex;align-items:center;justify-content:space-between;padding:24px 0;margin-bottom:40px;}
.logo{font-family:var(--disp);font-size:18px;font-weight:900;text-decoration:none;color:var(--t);}
.logo span{color:var(--a);}
.nr{display:flex;gap:20px;align-items:center;}
.nr a{font-family:var(--mono);font-size:10px;letter-spacing:.12em;color:var(--m);text-decoration:none;transition:color .2s;}
.nr a:hover{color:var(--a);}
.pill{display:flex;align-items:center;gap:6px;font-family:var(--mono);font-size:10px;color:var(--g);padding:5px 12px;border:1px solid rgba(74,222,128,.2);background:rgba(74,222,128,.05);border-radius:20px;}
.dot{width:6px;height:6px;border-radius:50%;background:var(--g);animation:p 2s ease-in-out infinite;}
@keyframes p{0%,100%{opacity:1}50%{opacity:.4}}
/* HERO */
.hero{text-align:center;margin-bottom:48px;}
.htag{font-family:var(--mono);font-size:10px;letter-spacing:.2em;color:var(--a);margin-bottom:14px;}
h1{font-family:var(--disp);font-size:clamp(28px,5vw,52px);font-weight:900;line-height:1.05;letter-spacing:-.03em;margin-bottom:14px;}
h1 em{font-style:normal;color:var(--a);}
.hsub{font-size:15px;color:var(--m);line-height:1.7;max-width:440px;margin:0 auto 24px;}
.ssebox{display:inline-flex;align-items:center;gap:10px;background:var(--s);border:1px solid var(--b2);border-radius:8px;padding:10px 18px;font-family:var(--mono);font-size:12px;color:var(--a);cursor:pointer;transition:all .2s;}
.ssebox:hover{border-color:var(--a);}
/* TABS */
.tabs{display:flex;background:var(--s);border:1px solid var(--b);border-radius:12px 12px 0 0;overflow:hidden;margin-bottom:0;}
.tab{flex:1;padding:14px 10px;font-family:var(--mono);font-size:10px;letter-spacing:.1em;color:var(--m);cursor:pointer;border:none;background:none;transition:all .2s;border-bottom:2px solid transparent;text-transform:uppercase;}
.tab.on{color:var(--a);border-bottom-color:var(--a);background:rgba(56,189,248,.05);}
.tab:hover:not(.on){color:var(--t);}
.panel{display:none;background:var(--s);border:1px solid var(--b);border-top:none;border-radius:0 0 12px 12px;padding:32px;margin-bottom:32px;}
.panel.on{display:block;}
/* STEPS */
.steps{display:flex;flex-direction:column;gap:0;}
.step{display:flex;gap:18px;padding-bottom:24px;position:relative;}
.step:not(:last-child)::before{content:'';position:absolute;left:13px;top:28px;bottom:0;width:1px;background:var(--b);}
.step:last-child{padding-bottom:0;}
.sn{width:27px;height:27px;border-radius:50%;background:rgba(56,189,248,.1);border:1px solid var(--b2);font-family:var(--mono);font-size:11px;color:var(--a);display:flex;align-items:center;justify-content:center;flex-shrink:0;position:relative;z-index:1;}
.sn.g{background:rgba(74,222,128,.1);border-color:rgba(74,222,128,.3);color:var(--g);}
.sb{flex:1;padding-top:3px;}
.sb h4{font-size:14px;font-weight:600;margin-bottom:5px;}
.sb p{font-size:13px;color:var(--m);line-height:1.6;}
/* SNIPPETS */
.snip{position:relative;background:#010507;border:1px solid var(--b);border-radius:8px;padding:12px 48px 12px 13px;margin:9px 0;font-family:var(--mono);font-size:11px;color:var(--a);line-height:1.8;cursor:pointer;white-space:pre-wrap;word-break:break-all;transition:border-color .2s;}
.snip:hover{border-color:var(--b2);}
.cc{position:absolute;top:8px;right:8px;background:var(--s2);border:1px solid var(--b);border-radius:4px;padding:3px 9px;font-family:var(--mono);font-size:9px;color:var(--m);transition:all .2s;white-space:nowrap;}
.snip:hover .cc{color:var(--a);border-color:var(--b2);}
.cc.ok{color:var(--g)!important;border-color:rgba(74,222,128,.3)!important;}
/* BUTTONS */
.btn-gh{display:inline-flex;align-items:center;gap:10px;background:#24292e;color:#fff;border:none;border-radius:8px;padding:13px 22px;font-family:var(--mono);font-size:12px;font-weight:600;cursor:pointer;text-decoration:none;transition:background .2s;margin-top:12px;}
.btn-gh:hover{background:#333;}
.btn-gh svg{width:18px;height:18px;fill:white;flex-shrink:0;}
.btn-a{display:inline-flex;align-items:center;gap:8px;background:rgba(56,189,248,.08);border:1px solid var(--b2);border-radius:8px;padding:11px 20px;font-family:var(--mono);font-size:11px;color:var(--a);cursor:pointer;transition:all .2s;text-decoration:none;margin-top:10px;}
.btn-a:hover{background:rgba(56,189,248,.15);border-color:var(--a);}
.btn-w{display:inline-flex;align-items:center;gap:8px;background:rgba(74,222,128,.08);border:1px solid rgba(74,222,128,.25);border-radius:8px;padding:11px 20px;font-family:var(--mono);font-size:11px;color:var(--g);cursor:pointer;transition:all .2s;text-decoration:none;margin-top:10px;}
.btn-w:hover{background:rgba(74,222,128,.15);}
/* GRID */
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px;}
.card{background:var(--s2);border:1px solid var(--b);border-radius:12px;overflow:hidden;transition:border-color .2s;}
.card:hover{border-color:var(--b2);}
.card.open{border-color:var(--a);}
.ch{padding:18px;cursor:pointer;display:flex;align-items:center;justify-content:space-between;gap:12px;}
.cl{display:flex;align-items:center;gap:12px;}
.ci{width:38px;height:38px;border-radius:9px;background:var(--s);display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;}
.cn{font-family:var(--disp);font-size:15px;font-weight:800;margin-bottom:2px;}
.cs{font-size:11px;color:var(--m);}
.cr{display:flex;flex-direction:column;align-items:flex-end;gap:6px;flex-shrink:0;}
.badge{font-family:var(--mono);font-size:8px;letter-spacing:.08em;padding:3px 7px;border-radius:5px;text-transform:uppercase;white-space:nowrap;}
.bg{color:var(--g);background:rgba(74,222,128,.08);border:1px solid rgba(74,222,128,.2);}
.bb{color:var(--a);background:rgba(56,189,248,.08);border:1px solid rgba(56,189,248,.2);}
.by{color:var(--y);background:rgba(251,191,36,.08);border:1px solid rgba(251,191,36,.2);}
.bm{color:var(--m);background:rgba(100,116,139,.08);border:1px solid rgba(100,116,139,.2);}
.chv{font-size:16px;color:var(--m);transition:transform .25s;}
.card.open .chv{transform:rotate(90deg);color:var(--a);}
.cp{display:none;padding:0 18px 18px;border-top:1px solid var(--b);}
.card.open .cp{display:block;}
.csi{padding-top:14px;display:flex;flex-direction:column;gap:12px;}
.cstep{display:flex;gap:11px;}
.csn{width:22px;height:22px;border-radius:50%;background:rgba(56,189,248,.1);border:1px solid var(--b2);font-family:var(--mono);font-size:10px;color:var(--a);display:flex;align-items:center;justify-content:center;flex-shrink:0;margin-top:2px;}
.csb{flex:1;font-size:12px;line-height:1.6;color:var(--t);}
.cbtn{width:100%;padding:10px;margin-top:10px;border-radius:7px;border:1px solid var(--b2);font-family:var(--mono);font-size:10px;letter-spacing:.08em;text-transform:uppercase;cursor:pointer;background:rgba(56,189,248,.05);color:var(--a);transition:all .2s;}
.cbtn:hover{background:rgba(56,189,248,.12);border-color:var(--a);}
.cbtn.done{background:rgba(74,222,128,.08);color:var(--g);border-color:rgba(74,222,128,.3);}
/* BRIDGE FLOW */
.flow{display:flex;align-items:center;flex-wrap:wrap;gap:8px;padding:16px;background:rgba(56,189,248,.03);border:1px solid var(--b);border-radius:8px;margin:16px 0;}
.fn{padding:6px 12px;background:var(--s2);border:1px solid var(--b);border-radius:5px;font-family:var(--mono);font-size:11px;color:var(--t);}
.fn.live{border-color:rgba(74,222,128,.4);color:var(--g);background:rgba(74,222,128,.06);}
.fa{color:var(--a);font-size:14px;}
/* MANUAL */
.manual{background:var(--s);border:1px solid var(--b);border-radius:12px;padding:24px;}
/* TOAST */
#toast{position:fixed;bottom:24px;left:50%;transform:translateX(-50%) translateY(80px);background:var(--g);color:#000;font-family:var(--mono);font-size:12px;font-weight:700;padding:10px 22px;border-radius:100px;transition:transform .3s;z-index:999;white-space:nowrap;}
#toast.show{transform:translateX(-50%) translateY(0);}
footer{text-align:center;padding-top:40px;font-family:var(--mono);font-size:10px;color:var(--m);}
footer a{color:var(--m);text-decoration:none;}footer a:hover{color:var(--a);}
@media(max-width:600px){.tabs{flex-wrap:wrap;}.grid{grid-template-columns:1fr;}h1{font-size:26px;}.panel{padding:20px;}}
</style>
</head>
<body>
<div class="glow"></div>
<div id="toast">✓ Copied</div>
<div class="w">
  <nav>
    <a href="/" class="logo">KRYV<span>·</span>MCP</a>
    <div class="nr">
      <a href="/status">Status</a>
      <a href="/admin">Admin</a>
      <a href="https://github.com/RajatDatta5315/kryv-mcp" target="_blank">GitHub</a>
      <div class="pill"><div class="dot"></div><span id="sv">LIVE</span></div>
    </div>
  </nav>

  <div class="hero">
    <div class="htag">⬡ One-Click Connect</div>
    <h1>Your AI.<br><em>Your repos.</em></h1>
    <p class="hsub">Connect your own GitHub. Pick any AI tool. Full isolation — nobody touches your repos.</p>
    <div class="ssebox" onclick="cp('https://kryv-mcp.rajatdatta90000.workers.dev/sse','✓ SSE URL copied')">
      kryv-mcp.rajatdatta90000.workers.dev/sse &nbsp;⎘
    </div>
  </div>

  <!-- TABS -->
  <div class="tabs">
    <button class="tab on" onclick="tab(0)">① Connect GitHub</button>
    <button class="tab" onclick="tab(1)">② AI Tools</button>
    <button class="tab" onclick="tab(2)">③ Claude Bridge</button>
    <button class="tab" onclick="tab(3)">④ Go Official</button>
  </div>

  <!-- TAB 0 — GITHUB OAUTH -->
  <div class="panel on" id="t0">
    <div class="steps">
      <div class="step">
        <div class="sn">1</div>
        <div class="sb">
          <h4>Click Connect GitHub</h4>
          <p>Opens GitHub in a new tab. You approve. KRYV saves your token — isolated to you, nobody else can see it.</p>
          <a href="#" class="btn-gh" id="ghbtn" onclick="connectGH(event)">
            <svg viewBox="0 0 24 24"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
            Connect GitHub Account
          </a>
        </div>
      </div>
      <div class="step">
        <div class="sn">2</div>
        <div class="sb">
          <h4>Approve access on GitHub</h4>
          <p>GitHub asks you to approve <strong>repo</strong> + <strong>workflow</strong> access. Click Authorize. Done.</p>
        </div>
      </div>
      <div class="step">
        <div class="sn g">✓</div>
        <div class="sb">
          <h4>Token saved — your account only</h4>
          <p>Your token is stored in Cloudflare D1 under your unique <code style="font-family:var(--mono);color:var(--a);font-size:11px">client_id</code>. All GitHub tools use YOUR account. Nobody else can access your repos.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- TAB 1 — AI TOOLS -->
  <div class="panel" id="t1">
    <div class="grid">

      <!-- WINDSURF — recommended now -->
      <div class="card open" id="c-ws">
        <div class="ch" onclick="tog('ws')">
          <div class="cl"><div class="ci">◎</div><div><div class="cn">Windsurf</div><div class="cs">Free. No limits. Best choice now.</div></div></div>
          <div class="cr"><span class="badge bg">FREE ∞</span><span class="chv">›</span></div>
        </div>
        <div class="cp"><div class="csi">
          <div class="cstep"><div class="csn">1</div><div class="csb">Install Windsurf from <a href="https://windsurf.com" target="_blank" style="color:var(--a)">windsurf.com</a> (free, Linux .deb available)</div></div>
          <div class="cstep"><div class="csn">2</div><div class="csb">Open Windsurf. Bottom left — click the <strong>Cascade</strong> panel icon.</div></div>
          <div class="cstep"><div class="csn">3</div><div class="csb">Click <strong>Settings</strong> gear → <strong>MCP</strong> tab → <strong>Add Server</strong> → paste:
            <div class="snip" onclick="cs(this)">https://kryv-mcp.rajatdatta90000.workers.dev/sse<div class="cc">Copy</div></div>
            Transport: SSE · Name: kryv-mcp · Save → Restart Windsurf
          </div></div>
          <div class="cstep"><div class="csn">4</div><div class="csb">In Cascade chat:
            <div class="snip" onclick="cs(this)">List my GitHub repos<div class="cc">Copy</div></div>
            Shows YOUR repos. Unlimited messages. Free forever.
          </div></div>
          <button class="cbtn" onclick="mkd('ws')">✓ Mark Connected</button>
        </div></div>
      </div>

      <!-- CLAUDE.AI -->
      <div class="card" id="c-cl">
        <div class="ch" onclick="tog('cl')">
          <div class="cl"><div class="ci">◈</div><div><div class="cn">Claude.ai</div><div class="cs">Settings → Connectors</div></div></div>
          <div class="cr"><span class="badge bb">CLAUDE</span><span class="chv">›</span></div>
        </div>
        <div class="cp"><div class="csi">
          <div class="cstep"><div class="csn">1</div><div class="csb">claude.ai → profile icon (top right) → <strong>Settings</strong> → <strong>Connectors</strong> or <strong>Integrations</strong></div></div>
          <div class="cstep"><div class="csn">2</div><div class="csb">Click <strong>Add custom connector</strong> → paste this URL:
            <div class="snip" onclick="cs(this)">https://kryv-mcp.rajatdatta90000.workers.dev/sse<div class="cc">Copy</div></div>
          </div></div>
          <div class="cstep"><div class="csn">3</div><div class="csb">Name: <strong>KRYV-MCP</strong> → Save. Now Claude can access your GitHub, context, and VIGILIS.</div></div>
          <button class="cbtn" onclick="mkd('cl')">✓ Mark Connected</button>
        </div></div>
      </div>

      <!-- CURSOR -->
      <div class="card" id="c-cur">
        <div class="ch" onclick="tog('cur')">
          <div class="cl"><div class="ci">⌶</div><div><div class="cn">Cursor</div><div class="cs">Pro needed for Claude. Free = limited.</div></div></div>
          <div class="cr"><span class="badge by">PRO</span><span class="chv">›</span></div>
        </div>
        <div class="cp"><div class="csi">
          <div class="cstep"><div class="csn">!</div><div class="csb" style="color:var(--y)">Cursor free plan hits rate limits fast. Use Windsurf for unlimited free usage. If you have Cursor Pro — connect below.</div></div>
          <div class="cstep"><div class="csn">1</div><div class="csb"><strong>Ctrl+Shift+P</strong> → Open MCP Settings → delete everything → paste:
            <div class="snip" onclick="cs(this)">{
  "mcpServers": {
    "kryv-mcp": {
      "url": "https://kryv-mcp.rajatdatta90000.workers.dev/sse",
      "transport": "sse"
    }
  }
}<div class="cc">Copy</div></div>
          </div></div>
          <div class="cstep"><div class="csn">2</div><div class="csb"><strong>Ctrl+S</strong> → close and reopen Cursor</div></div>
          <button class="cbtn" onclick="mkd('cur')">✓ Mark Connected</button>
        </div></div>
      </div>

      <!-- CONTINUE -->
      <div class="card" id="c-co">
        <div class="ch" onclick="tog('co')">
          <div class="cl"><div class="ci">▷</div><div><div class="cn">Continue</div><div class="cs">VS Code. Any AI. Free.</div></div></div>
          <div class="cr"><span class="badge by">VS CODE</span><span class="chv">›</span></div>
        </div>
        <div class="cp"><div class="csi">
          <div class="cstep"><div class="csn">1</div><div class="csb">VS Code → Extensions → search <strong>Continue</strong> → Install</div></div>
          <div class="cstep"><div class="csn">2</div><div class="csb"><strong>Ctrl+Shift+P</strong> → Continue: Open config.json → add to mcpServers:
            <div class="snip" onclick="cs(this)">{"name":"kryv-mcp","transport":"sse","url":"https://kryv-mcp.rajatdatta90000.workers.dev/sse"}<div class="cc">Copy</div></div>
          </div></div>
          <div class="cstep"><div class="csn">3</div><div class="csb">Save → Ctrl+Shift+P → <strong>Reload Window</strong></div></div>
          <button class="cbtn" onclick="mkd('co')">✓ Mark Connected</button>
        </div></div>
      </div>

    </div>
  </div>

  <!-- TAB 2 — BRIDGE -->
  <div class="panel" id="t2">
    <div style="margin-bottom:24px">
      <div style="font-family:var(--mono);font-size:10px;letter-spacing:.15em;color:var(--a);margin-bottom:12px">// HOW THE BRIDGE WORKS</div>
      <div class="flow">
        <span class="fn live">You chat in Claude</span><span class="fa">→</span>
        <span class="fn live">Say "save to cursor"</span><span class="fa">→</span>
        <span class="fn live">Claude commits to GitHub</span><span class="fa">→</span>
        <span class="fn">bridge.py detects it</span><span class="fa">→</span>
        <span class="fn">Opens in Windsurf/Cursor ✓</span>
      </div>
      <p style="font-size:13px;color:var(--m);line-height:1.6">A tiny Python script runs on your PC (barely any CPU), watches GitHub every 4 seconds, and auto-opens files in your editor. Zero copy-paste.</p>
    </div>
    <div class="steps">
      <div class="step">
        <div class="sn">1</div>
        <div class="sb">
          <h4>Connect Claude.ai to GitHub</h4>
          <p>claude.ai → Settings → Integrations/Connectors → GitHub → Connect. This lets Claude commit code to your repos directly.</p>
        </div>
      </div>
      <div class="step">
        <div class="sn">2</div>
        <div class="sb">
          <h4>Start the bridge on your PC</h4>
          <p>Bridge is already installed at <code style="font-family:var(--mono);color:var(--a);font-size:11px">~/kryv-bridge.py</code>. Open a terminal and run:</p>
          <div class="snip" onclick="cs(this)">python3 ~/kryv-bridge.py<div class="cc">Copy</div></div>
          <p style="font-size:12px;color:var(--m);margin-top:6px">Leave it running. It uses almost zero CPU — same as a browser tab. Your PC won't heat up from this.</p>
        </div>
      </div>
      <div class="step">
        <div class="sn">3</div>
        <div class="sb">
          <h4>In THIS Claude chat — test it now</h4>
          <p>Copy this and paste it here in Claude:</p>
          <div class="snip" onclick="cs(this)">Save this code to my claude-relay repo as pending/test.py:
print("KRYV-MCP bridge is working!")<div class="cc">Copy</div></div>
          <p style="font-size:12px;color:var(--m);margin-top:6px">Claude commits it → bridge picks it up in 4 seconds → opens in your editor automatically.</p>
        </div>
      </div>
      <div class="step">
        <div class="sn g">✓</div>
        <div class="sb">
          <h4>Loop broken. No more copy-paste.</h4>
          <p>From now on: generate code here → say "save to cursor" → done. Windsurf/Cursor applies the changes.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- TAB 3 — OFFICIAL CONNECTOR -->
  <div class="panel" id="t3">
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:28px;margin-bottom:28px">
      <div>
        <div style="font-family:var(--mono);font-size:10px;letter-spacing:.15em;color:var(--a);margin-bottom:10px">// CURRENT STATE</div>
        <p style="font-size:13px;color:var(--m);line-height:1.7">Users paste the SSE URL manually. Works — but it's friction. The goal: users open claude.ai Settings, click "KRYV-MCP", click Connect. Done. Same as GitHub connector.</p>
      </div>
      <div>
        <div style="font-family:var(--mono);font-size:10px;letter-spacing:.15em;color:var(--a);margin-bottom:10px">// WHAT'S NEEDED</div>
        <p style="font-size:13px;color:var(--m);line-height:1.7">KRYV-MCP v0.7 already has OAuth 2.0 endpoints (<code style="font-family:var(--mono);color:var(--a);font-size:11px">/.well-known/oauth-authorization-server</code>). The server is ready. Just needs Anthropic approval.</p>
      </div>
    </div>
    <div class="steps">
      <div class="step">
        <div class="sn">1</div>
        <div class="sb">
          <h4>Server is already compliant</h4>
          <p>KRYV-MCP v0.7 has: public SSE endpoint, OAuth 2.0 authorization server, per-user token isolation, MCP 2024-11-05 protocol, proper error handling. Anthropic's checklist is done.</p>
        </div>
      </div>
      <div class="step">
        <div class="sn">2</div>
        <div class="sb">
          <h4>Submit to Anthropic</h4>
          <p>Email mcp@anthropic.com. The submission is below — click to copy the full email, ready to send.</p>
          <button class="btn-a" onclick="cpEmail()">⎘ Copy submission email</button>
          <button class="btn-a" style="margin-left:8px" onclick="window.open('mailto:mcp@anthropic.com?subject='+encodeURIComponent('MCP Server Submission — KRYV-MCP')+'&body='+encodeURIComponent(getEmail()))">✉ Open in Mail app</button>
        </div>
      </div>
      <div class="step">
        <div class="sn">3</div>
        <div class="sb">
          <h4>Apply as Anthropic Partner</h4>
          <p>Parallel path — partnership gets faster review and listing on Anthropic's site.</p>
          <a href="https://www.anthropic.com/partners" target="_blank" class="btn-a">→ anthropic.com/partners</a>
        </div>
      </div>
      <div class="step">
        <div class="sn g">✓</div>
        <div class="sb">
          <h4>After approval</h4>
          <p>KRYV-MCP appears in claude.ai → Settings → Integrations for all users. One-click connect. No URL pasting ever again.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- MANUAL -->
  <div class="manual">
    <div style="font-family:var(--mono);font-size:10px;letter-spacing:.15em;color:var(--m);margin-bottom:8px">// Any MCP client — raw SSE URL</div>
    <p style="font-size:13px;color:var(--m);margin-bottom:14px">BoltAI, LibreChat, OpenWebUI, Claude Desktop — anything that speaks MCP over SSE.</p>
    <div style="display:flex;gap:8px;flex-wrap:wrap">
      <input style="flex:1;min-width:180px;background:var(--s2);border:1px solid var(--b);border-radius:7px;padding:10px 13px;font-family:var(--mono);font-size:12px;color:var(--a);outline:none;" readonly value="https://kryv-mcp.rajatdatta90000.workers.dev/sse"/>
      <button style="padding:10px 18px;background:var(--a);color:#000;border:none;border-radius:7px;font-family:var(--mono);font-size:11px;font-weight:700;cursor:pointer;" onclick="cp('https://kryv-mcp.rajatdatta90000.workers.dev/sse','✓ Copied')">Copy URL</button>
    </div>
  </div>

  <footer>
    <p><a href="/">mcp.kryv.network</a> · <a href="/status">Status</a> · <a href="/admin">Admin</a> · <a href="https://github.com/RajatDatta5315/kryv-mcp" target="_blank">GitHub</a></p>
    <p style="margin-top:5px">KRYV-MCP v0.7 · MCP Protocol 2024-11-05</p>
  </footer>
</div>

<script>
const W='https://kryv-mcp.rajatdatta90000.workers.dev';
const toast=document.getElementById('toast');
let tt;
function showT(m){toast.textContent=m;toast.classList.add('show');clearTimeout(tt);tt=setTimeout(()=>toast.classList.remove('show'),2400);}
function cp(t,m){navigator.clipboard.writeText(t).then(()=>showT(m||'✓ Copied'));}
function cs(el){
  const raw=el.childNodes[0];
  const t=(raw?.nodeValue||raw?.textContent||el.textContent).replace(/\s*Copy\s*$/,'').trim();
  navigator.clipboard.writeText(t).then(()=>{
    showT('✓ Copied');
    const b=el.querySelector('.cc');
    if(b){b.textContent='✓';b.classList.add('ok');setTimeout(()=>{b.textContent='Copy';b.classList.remove('ok');},1800);}
  });
}
function tab(i){
  document.querySelectorAll('.tab').forEach((t,j)=>t.classList.toggle('on',j===i));
  document.querySelectorAll('.panel').forEach((p,j)=>p.classList.toggle('on',j===i));
}
const op={};
function tog(id){
  const c=document.getElementById('c-'+id);
  if(op[id]){c.classList.remove('open');op[id]=false;}
  else{
    Object.keys(op).forEach(k=>{if(op[k]){document.getElementById('c-'+k)?.classList.remove('open');op[k]=false;}});
    c.classList.add('open');op[id]=true;
    setTimeout(()=>c.scrollIntoView({behavior:'smooth',block:'nearest'}),60);
  }
}
function mkd(id){
  const b=document.querySelector('#c-'+id+' .cbtn');
  b.textContent='✓ Connected!';b.classList.add('done');
  showT('✓ '+id+' connected!');
}
async function connectGH(e){
  e.preventDefault();
  const btn=document.getElementById('ghbtn');
  btn.textContent=' Creating account...';
  try{
    const r=await fetch(W+'/nehira/connect',{method:'POST',headers:{'Content-Type':'application/json'},
      body:JSON.stringify({name:'Web User',email:'user-'+Date.now()+'@kryv.network',nehira_user_id:'web-'+Date.now()})});
    const d=await r.json();
    if(d.client_id){
      localStorage.setItem('kryv_client_id',d.client_id);
      localStorage.setItem('kryv_api_key',d.api_key);
      window.open(W+'/github/oauth?client_id='+d.client_id,'_blank');
      btn.innerHTML='<svg viewBox="0 0 24 24" style="width:16px;fill:white"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> GitHub window opened — authorize there';
      btn.style.background='#1a7f37';
    }
  }catch(e){showT('Error: '+e.message);}
}
function getEmail(){
  return `Hi Anthropic team,

I would like to submit KRYV-MCP for listing as an official Claude connector.

Server Name: KRYV-MCP
SSE Endpoint: https://kryv-mcp.rajatdatta90000.workers.dev/sse
OAuth Metadata: https://kryv-mcp.rajatdatta90000.workers.dev/.well-known/oauth-authorization-server
MCP Version: 2024-11-05
Transport: HTTP+SSE

Description:
KRYV-MCP is a personal context server giving Claude persistent memory and real-world capabilities:
• Browser context (tabs, history, WhatsApp Web) via Chrome extension
• GitHub read/write using the user's own OAuth 2.0 token (per-user isolation, no shared tokens)
• VIGILIS threat detection (phishing, jailbreak, prompt injection detection)
• Personal context storage (notes, files, preferences) in Cloudflare D1
• Built-in Claude API (ask_claude tool — works without Cursor Pro)
• NEHIRA AI integration

Authentication:
Full OAuth 2.0 authorization server at /.well-known/oauth-authorization-server
GitHub OAuth 2.0 per user — each user connects their own GitHub account
All data isolated per client_id in Cloudflare D1
No shared tokens of any kind

Tools (16): vigilis_check, ask_claude, ask_nehira, get_context, push_context, cache_get, cache_set, get_stats, server_info, github_connect_url, github_list_repos, github_read_file, github_list_files, github_write_file, github_create_branch, github_create_pr

Privacy: Users own all their data. Zero cross-user data access possible by design.

Docs: https://mcp.kryv.network
GitHub: https://github.com/RajatDatta5315/kryv-mcp
Status: https://mcp.kryv.network/status

Best regards,
Rajat Datta
kryv.network`;
}
function cpEmail(){cp(getEmail(),'✓ Email copied — paste into Gmail/Mail');}
// Server status
fetch(W+'/health').then(r=>r.json()).then(d=>{
  document.getElementById('sv').textContent=d.status==='ok'?'LIVE v'+d.version:'OFFLINE';
}).catch(()=>{document.getElementById('sv').textContent='OFFLINE';});
// Open Windsurf card by default
op['ws']=true;
</script>
</body>
</html>
